(self.webpackChunkrunty_website=self.webpackChunkrunty_website||[]).push([[875],{7016:function(e){var t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,o=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,a=(e,n,r)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r,s=(e,t)=>{for(var n in t||(t={}))i.call(t,n)&&a(e,n,t[n]);if(o)for(var n of o(t))u.call(t,n)&&a(e,n,t[n]);return e},l=(e=>(o,u)=>e&&e.get(o)||(u=((e,o,u,a)=>{if(o&&"object"==typeof o||"function"==typeof o)for(let s of r(o))i.call(e,s)||!u&&"default"===s||t(e,s,{get:()=>o[s],enumerable:!(a=n(o,s))||a.enumerable});return e})(t({},"__esModule",{value:!0}),o,1),e&&e.set(o,u),u))("undefined"!=typeof WeakMap?new WeakMap:0),c={};((e,n)=>{for(var r in n)t(e,r,{get:n[r],enumerable:!0})})(c,{$:()=>m,ERROR_MESSAGES:()=>z,NODETYPE:()=>Q,RSyntaxError:()=>K,RSyntaxErrorType:()=>Y,add:()=>N,and:()=>g,array:()=>ue,cat:()=>d,ceil:()=>b,div:()=>E,eq:()=>S,fix:()=>y,flr:()=>v,fns:()=>B,get:()=>h,gt:()=>T,gte:()=>I,idx:()=>O,is:()=>R,join:()=>x,len:()=>w,logicFns:()=>Z,low:()=>_,lt:()=>A,lte:()=>D,max:()=>C,min:()=>j,mul:()=>U,not:()=>F,numberFns:()=>J,or:()=>P,pl:()=>$,pr:()=>M,rnd:()=>L,rpl:()=>X,rpt:()=>G,runty:()=>ae,sbs:()=>k,slc:()=>V,string:()=>ie,stringFns:()=>se,sub:()=>W,trim:()=>q,up:()=>H,utilFns:()=>le});var f={ELSE_START:":",EXPRESSION_END:"}",IF_START:"?",EXPRESSION_START:"{",FUNCTION_START:/^\$([$\w]+)\(/,FUNCTION_SEPARATOR:",",FUNCTION_END:")",STRING_IF:/^(?:\\[{}:]|[^{}:])*/,STRING_ELSE:/^(?:\\[{}]|[^{}])*/,STRING_FUNCTION:/^(?:\\[,)]|[^,)])*/,STRING_OUTER:/^(?:\\\{|[^{])*/,VARIABLE:/^%([$\w]+(?:\.[$\w]+)*)/},p=e=>e.replace(/\\(.)/g,"$1"),m=(e,t)=>0===e.length?"":e.reduce(((e,t)=>(null==e?void 0:e[String(t)])??""),t),N=e=>0===e.length?NaN:Number(e.reduce(((e,t)=>Number(e)+Number(t)))),g=e=>!!e.reduce(((e,t)=>e&&(0===t||!!t)),e.length>0),d=e=>String(e.reduce(((e,t)=>String(e)+String(t)))),b=e=>{let[t]=e;return Math.ceil(Number(t))},E=e=>0===e.length?NaN:Number(e.reduce(((e,t)=>Number(e)/Number(t)))),S=e=>{let[t,n]=e;return"number"==typeof t||"number"==typeof n?Number(t)===Number(n):"string"==typeof t||"string"==typeof n?String(t)===String(n):t===n},y=e=>{let[t,n=0]=e;return Number(t).toFixed(Number(n))},v=e=>{let[t]=e;return Math.floor(Number(t))},h=e=>{let[t,...n]=e;return t?m(n,t):""},T=e=>{let[t,n]=e;return"number"==typeof t||"number"==typeof n?Number(t)>Number(n):"string"==typeof t||"string"==typeof n?String(t)>String(n):t>n},I=e=>{let[t,n]=e;return"number"==typeof t||"number"==typeof n?Number(t)>=Number(n):"string"==typeof t||"string"==typeof n?String(t)>=String(n):t>=n},O=e=>{let[t="",n]=e;return Array.isArray(t)?t.indexOf(n):void 0!==n&&""!==n?String(t).indexOf(String(n)):-1},R=e=>{let[t,n]=e;return Object.is(t,n)},x=e=>{let[t,n=""]=e;return Array.isArray(t)?t.join(String(n)):""},w=e=>{let[t=""]=e;return Array.isArray(t)?t.length:String(t).length},_=e=>{let[t=""]=e;return String(t).toLowerCase()},A=e=>{let[t,n]=e;return"number"==typeof t||"number"==typeof n?Number(t)<Number(n):"string"==typeof t||"string"==typeof n?String(t)<String(n):t<n},D=e=>{let[t,n]=e;return"number"==typeof t||"number"==typeof n?Number(t)<=Number(n):"string"==typeof t||"string"==typeof n?String(t)<=String(n):t<=n},C=e=>Math.max(...e.map((e=>""===e?-1/0:Number(e??-1/0)))),j=e=>Math.min(...e.map((e=>""===e?1/0:Number(e??1/0)))),U=e=>0===e.length?NaN:Number(e.reduce(((e,t)=>Number(e)*Number(t)))),F=e=>{let[t]=e;return 0!==t&&!t},P=e=>!!e.reduce(((e,t)=>e||0===t||!!t),!1),$=e=>{let[t="",n=0,r=" "]=e;return String(t).padStart(Number(n),String(r))},M=e=>{let[t="",n=0,r=" "]=e;return String(t).padEnd(Number(n),String(r))},L=e=>{let[t]=e;return Math.round(Number(t))},X=e=>{let[t="",n="",r=""]=e;const o=new RegExp(String(n).replace(/[\^$\\.*+?()[\]{}|]/g,"\\$&"),"g");return String(t).replace(o,String(r))},G=e=>{let[t="",n=0]=e;const r=Number(n);return isNaN(r)||r<0?"":String(t).repeat(Number(n))},k=e=>{let[t="",n=0,r=0]=e;return String(t).substr(Number(n),Number(r))},V=e=>{let[t="",n=0,r]=e;const o=r||0===r?Number(r):void 0;return Array.isArray(t)?t.slice(Number(n),o):String(t).slice(Number(n),o)},W=e=>0===e.length?NaN:Number(e.reduce(((e,t)=>Number(e)-Number(t)))),q=e=>{let[t=""]=e;return String(t).trim()},H=e=>{let[t=""]=e;return String(t).toUpperCase()},B={$:m,add:N,and:g,cat:d,ceil:b,div:E,eq:S,fix:y,flr:v,get:h,gt:T,gte:I,idx:O,is:R,join:x,len:w,low:_,lt:A,lte:D,max:C,min:j,mul:U,not:F,or:P,pl:$,pr:M,rnd:L,rpl:X,rpt:G,sbs:k,slc:V,sub:W,trim:q,up:H},Z={and:g,eq:S,gt:T,gte:I,is:R,lt:A,lte:D,not:F,or:P},J={add:N,ceil:b,div:E,flr:v,fix:y,max:C,min:j,mul:U,rnd:L,sub:W},Y=(e=>(e[e.EXPECTED_END=0]="EXPECTED_END",e[e.INVALID_EXPRESSION=1]="INVALID_EXPRESSION",e[e.INVALID_FUNCTION=2]="INVALID_FUNCTION",e[e.NESTING_DEPTH=3]="NESTING_DEPTH",e[e.UNTERMINATED_EXPRESSION=4]="UNTERMINATED_EXPRESSION",e[e.UNTERMINATED_FUNCTION=5]="UNTERMINATED_FUNCTION",e))(Y||{}),z={0:"Expected end of expression '}' or beginning of conditional expression '?'",1:"Invalid expression. Expected a valid variable or function",2:"Invalid function name",3:"Maximum nesting depth exceeded",4:"Unterminated expression",5:"Unterminated function. Expected an argument or ')'"},K=class extends Error{constructor(e,t,n){super(`${z[e]}${void 0!==n?` (${n})`:""}${t?` near "${t.slice(0,10)}"`:""}`),this.type=e,this.rest=t,this.value=n}},Q=(e=>(e[e.BRANCH=0]="BRANCH",e[e.CONDITION=1]="CONDITION",e[e.FUNCTION=2]="FUNCTION",e[e.VALUE=3]="VALUE",e))(Q||{}),ee=(e,t)=>{const{args:n,fn:r}=e;return r(n.map((e=>2===e.type?ee(e,t):e.value)),t)},te=(e,t)=>{const{nodes:n}=e;return n.flatMap((e=>1===e.type?((e,t)=>{const{condition:n,ifCase:r,elseCase:o}=e,i=ee(n,t);return 0===i||i?te(r,t):o?te(o,t):[""]})(e,t):2===e.type?[ee(e,t)]:[e.value]))},ne=function(e,t){return void 0===t&&(t={}),te(e,t)},re=(e,t)=>{const{fns:n,maxDepth:r}=t,o=e=>({type:2,fn:e,args:[]}),i=e=>({type:3,value:e}),u=[];let a=3,s={type:0,nodes:[]},l=e;const c=e=>{if("string"==typeof e)return l[0]===e?(l=l.slice(1),[e]):[];const t=l.match(e);return t&&0!==t[0].length?(l=l.slice(t[0].length),Array.from(t)):[]},N=()=>u[u.length-1],g=(e,t)=>{u.push([a,s]),a=e,s=t},d=()=>([a,s]=u.pop(),s),b=()=>{const e={type:0,nodes:[]},t={type:1,condition:s,ifCase:e},[,n]=N(),{nodes:r}=n;r[r.length-1]=t,s=t,g(1,e)},E=()=>{const[e,t]=c(f.VARIABLE);if(e){const e=o(m);return e.args=t.split(".").map((e=>i(e))),e}};for(;l.length>0;){if(u.length>r)throw new K(3,l);const{type:e}=s;if(0===e){const{nodes:e}=s,t=3===a,r=1===a,[u]=c(f.EXPRESSION_START);if(u){const t=E();if(t){e.push(t),g(0,t);const[n]=c(f.IF_START);if(n){b();continue}const[r]=c(f.EXPRESSION_END);if(r){d();continue}throw new K(0,l)}const[r,i]=c(f.FUNCTION_START);if(r){const t=n[i];if(!t)throw new K(2,l,i);const r=o(t);e.push(r),g(0,r);continue}throw new K(1,l)}if(r){const[e]=c(f.ELSE_START);if(e){const e={type:0,nodes:[]};d().elseCase=e,g(2,e);continue}}if(!t){const[e]=c(f.EXPRESSION_END);if(e){d(),d();continue}}const m=t?f.STRING_OUTER:r?f.STRING_IF:f.STRING_ELSE,[N]=c(m);e.push(i(p(N)))}else if(2===e){const{args:e}=s,[t]=c(f.FUNCTION_SEPARATOR);t&&0===e.length&&e.push(i(""));const[r]=c(f.FUNCTION_END);if(r){t&&e.push(i(""));const[n]=N();if(0===n){d();continue}const[r]=c(f.EXPRESSION_END);if(r){d();continue}const[o]=c(f.IF_START);if(o){b();continue}throw new K(0,l)}const[u,a]=c(f.FUNCTION_START);if(u){const t=n[a];if(!t)throw new K(2,l,a);const r=o(t);e.push(r),g(0,r);continue}const m=E();if(m)e.push(m);else{const[t=""]=c(f.STRING_FUNCTION);e.push(i(p(t)))}}}if(3!==a){throw new K(0===a?5:4,l)}return s},oe={asArray:!1,fns:{},maxDepth:8},ie=function(e,t){void 0===t&&(t={});const n=s(s({},oe),t),r=re(e,n);return e=>ne(r,e).join("")},ue=function(e,t){void 0===t&&(t={});const n=s(s({},oe),t),r=re(e,n);return e=>ne(r,e)},ae={array:ue,string:ie},se={cat:d,idx:O,len:w,low:_,pl:$,pr:M,rpt:G,rpl:X,sbs:k,slc:V,trim:q,up:H},le={$:m,get:h,idx:O,join:x,len:w,slc:V};e.exports=l(c)},9538:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var r=n(2784),o=n(7016),i=n(6282),u=n(9817),a=n(6277),s="main_h8hL",l="error_tySI",c="input_lH7j",f=n(77),p=n(4073);const m=()=>"undefined"!=typeof window?new window.URLSearchParams(window.location.search.slice(1)):new Map,N=n.n(p)()(((e,t,n)=>{const r=m();t!==n?r.set(e,t):r.delete(e);const o=r.toString();history.replaceState(null,document.title,o?`?${o}`:location.pathname)}),500),g=function(e,t){void 0===t&&(t="");const[n,o]=(0,r.useState)((()=>m().get(e)||t));return(0,r.useEffect)((()=>{N(e,n,t)}),[t,n]),[n,o]},d=()=>{const e=(0,r.useRef)(),t=(0,r.useRef)(),[n,i]=g("t","{%track?{$pl(%track,2,0)}. }{%artist?{%artist} - }{%title}{%album? ({%album})} [{$pl(%minutes,2,0)}:{$pl(%seconds,2,0)}]"),[p,m]=g("v",'{\n  // "album": "Running With Scissors", // uncomment this and see how the result changes\n  "artist": "\'Weird Al\' Yankovic",\n  "minutes": 11,\n  "title": "Albuquerque",\n  "seconds": 5,\n  "track": 11\n}'),N=(0,r.useRef)(n).current,d=(0,r.useRef)(p).current,[b,E]=(0,r.useMemo)((()=>{try{return[(0,o.string)(n,{fns:o.fns})]}catch(e){return[,e]}}),[n]),[S,y]=(0,r.useMemo)((()=>{try{return[JSON.parse(p.replace(/\/\/.*$/gm,""))]}catch(e){return[{},e]}}),[p]),v=(0,r.useMemo)((()=>b&&b(S)||""),[b,S]);return(0,r.useEffect)((()=>{e.current.value=N,t.current.value=d}),[N,d]),r.createElement("main",{className:(0,a.Z)("container",s)},r.createElement("h1",null,"Demo"),r.createElement("p",null,"Try out runty live in your browser. All of the ",r.createElement(u.Z,{to:(0,f.Z)("docs/fns")},"standard library fns")," are available on this demo page."),r.createElement("p",null,"The variable dictionary input supports JSON syntax and ",r.createElement("code",null,"//")," for line comments."),r.createElement("div",null,r.createElement("h3",null,"Template"),r.createElement("textarea",{className:c,onInput:e=>{let{target:t}=e;return i(t.value)},ref:e,rows:"1"}),E&&r.createElement("p",{className:l},E.message)),r.createElement("div",null,r.createElement("h3",null,"Variable Dictionary"),r.createElement("textarea",{className:c,onInput:e=>{let{target:t}=e;return m(t.value)},ref:t,rows:"10"}),y&&r.createElement("p",{className:l},y.message)),r.createElement("h3",null,"Result"),r.createElement("pre",null,v))};var b=()=>r.createElement(i.Z,{title:"Demo"},r.createElement(d,null))},857:function(e,t,n){var r=n(7772).Symbol;e.exports=r},3366:function(e,t,n){var r=n(857),o=n(2107),i=n(7157),u=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":u&&u in Object(e)?o(e):i(e)}},1704:function(e,t,n){var r=n(2153),o=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(o,""):e}},1242:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},2107:function(e,t,n){var r=n(857),o=Object.prototype,i=o.hasOwnProperty,u=o.toString,a=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,a),n=e[a];try{e[a]=void 0;var r=!0}catch(s){}var o=u.call(e);return r&&(t?e[a]=n:delete e[a]),o}},7157:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},7772:function(e,t,n){var r=n(1242),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},2153:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},4073:function(e,t,n){var r=n(9259),o=n(1100),i=n(7642),u=Math.max,a=Math.min;e.exports=function(e,t,n){var s,l,c,f,p,m,N=0,g=!1,d=!1,b=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function E(t){var n=s,r=l;return s=l=void 0,N=t,f=e.apply(r,n)}function S(e){return N=e,p=setTimeout(v,t),g?E(e):f}function y(e){var n=e-m;return void 0===m||n>=t||n<0||d&&e-N>=c}function v(){var e=o();if(y(e))return h(e);p=setTimeout(v,function(e){var n=t-(e-m);return d?a(n,c-(e-N)):n}(e))}function h(e){return p=void 0,b&&s?E(e):(s=l=void 0,f)}function T(){var e=o(),n=y(e);if(s=arguments,l=this,m=e,n){if(void 0===p)return S(m);if(d)return clearTimeout(p),p=setTimeout(v,t),E(m)}return void 0===p&&(p=setTimeout(v,t)),f}return t=i(t)||0,r(n)&&(g=!!n.leading,c=(d="maxWait"in n)?u(i(n.maxWait)||0,t):c,b="trailing"in n?!!n.trailing:b),T.cancel=function(){void 0!==p&&clearTimeout(p),N=0,s=m=l=p=void 0},T.flush=function(){return void 0===p?f:h(o())},T}},9259:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},5125:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},4795:function(e,t,n){var r=n(3366),o=n(5125);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},1100:function(e,t,n){var r=n(7772);e.exports=function(){return r.Date.now()}},7642:function(e,t,n){var r=n(1704),o=n(9259),i=n(4795),u=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=a.test(e);return n||s.test(e)?l(e.slice(2),n?2:8):u.test(e)?NaN:+e}}}]);